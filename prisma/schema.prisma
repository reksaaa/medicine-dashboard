generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Medicine {
    id                 Int          @id @default(autoincrement())
    medicine_name      String
    medicine_type      String
    quantity           Float
    transaction_status String
    stock_status       String
    delivery_batch     String
    expiry_date        DateTime
    created_by         String
    stockLevels        StockLevel[]
}

model StockLevel {
    id                   Int                @id @default(autoincrement())
    medicine             Medicine           @relation(fields: [medicineId], references: [id])
    medicineId           Int
    distributionCenter   DistributionCenter @relation(fields: [distributionCenterId], references: [id])
    distributionCenterId Int
    quantity             Float
    updatedAt            DateTime           @updatedAt

    @@unique([medicineId, distributionCenterId])
}

model DataDashboard {
    id              Int   @id @default(autoincrement())
    lowest_demand   Float
    slowest_moving  Float
    top_distributed Float
    highest_demand  Float
}

model DistributionCenter {
    id          Int          @id @default(autoincrement())
    name        String
    latitude    Float
    longitude   Float
    stockLevels StockLevel[]
}

model User {
    id       Int    @id @default(autoincrement())
    name     String
    password String
    email    String @unique
}
